<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Webpack Hand-written | Hi, I&#39;m here</title>
    <meta name="description" content="Stella Blog">
    <meta name="generator" content="VuePress 1.4.0">
    <link rel="shortcut icon" type="image/x-icon" href="/stella/cute.gif">
    
    <link rel="preload" href="/stella/assets/css/0.styles.6825d706.css" as="style"><link rel="preload" href="/stella/assets/js/app.a3e7a2e9.js" as="script"><link rel="preload" href="/stella/assets/js/2.d5a5158a.js" as="script"><link rel="preload" href="/stella/assets/js/23.89eed9ba.js" as="script"><link rel="prefetch" href="/stella/assets/js/10.da2fc20b.js"><link rel="prefetch" href="/stella/assets/js/11.7d3d6cd3.js"><link rel="prefetch" href="/stella/assets/js/12.504c80d7.js"><link rel="prefetch" href="/stella/assets/js/13.c673707a.js"><link rel="prefetch" href="/stella/assets/js/14.47c80e9d.js"><link rel="prefetch" href="/stella/assets/js/15.f3010f1b.js"><link rel="prefetch" href="/stella/assets/js/16.dcf83325.js"><link rel="prefetch" href="/stella/assets/js/17.82224608.js"><link rel="prefetch" href="/stella/assets/js/18.2a667d76.js"><link rel="prefetch" href="/stella/assets/js/19.bc0f3cfb.js"><link rel="prefetch" href="/stella/assets/js/20.e5471336.js"><link rel="prefetch" href="/stella/assets/js/21.d16783d8.js"><link rel="prefetch" href="/stella/assets/js/22.352fe922.js"><link rel="prefetch" href="/stella/assets/js/24.52abec29.js"><link rel="prefetch" href="/stella/assets/js/25.dcd720f6.js"><link rel="prefetch" href="/stella/assets/js/3.110e554a.js"><link rel="prefetch" href="/stella/assets/js/4.06261530.js"><link rel="prefetch" href="/stella/assets/js/5.00a274b1.js"><link rel="prefetch" href="/stella/assets/js/6.7c458166.js"><link rel="prefetch" href="/stella/assets/js/7.b69cb021.js"><link rel="prefetch" href="/stella/assets/js/8.7ae273a9.js"><link rel="prefetch" href="/stella/assets/js/9.72c76b06.js">
    <link rel="stylesheet" href="/stella/assets/css/0.styles.6825d706.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container no-sidebar"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/stella/" class="home-link router-link-active"><!----> <span class="site-name">Hi, I'm here</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/stella/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/stella/interview.html" class="nav-link">
  Interview
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Study Analysis" class="dropdown-title"><span class="title">Study Analysis</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/stella/study/express.html" class="nav-link">
  Express
</a></li><li class="dropdown-item"><!----> <a href="/stella/study/koa.html" class="nav-link">
  Koa
</a></li><li class="dropdown-item"><!----> <a href="/stella/study/axios.html" class="nav-link">
  Axios
</a></li><li class="dropdown-item"><!----> <a href="/stella/study/vuex.html" class="nav-link">
  Vuex
</a></li><li class="dropdown-item"><!----> <a href="/stella/study/router.html" class="nav-link">
  Vue-Router
</a></li><li class="dropdown-item"><!----> <a href="/stella/study/domdiff.html" class="nav-link">
  Vue DOM-Diff
</a></li><li class="dropdown-item"><!----> <a href="/stella/study/mvvm.html" class="nav-link">
  Vue-MVVM
</a></li><li class="dropdown-item"><!----> <a href="/stella/study/ssr.html" class="nav-link">
  Vue-SSR
</a></li><li class="dropdown-item"><!----> <a href="/stella/study/cz.html" class="nav-link">
  Cz
</a></li><li class="dropdown-item"><!----> <a href="/stella/study/ws.html" class="nav-link">
  ws
</a></li><li class="dropdown-item"><!----> <a href="/stella/study/webpack.html" class="nav-link router-link-exact-active router-link-active">
  webpack
</a></li></ul></div></div><div class="nav-item"><a href="/stella/resume.html" class="nav-link">
  Resume
</a></div><div class="nav-item"><a href="https://github.com/StellaYangF/StellaYangF.github.io" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/stella/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/stella/interview.html" class="nav-link">
  Interview
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Study Analysis" class="dropdown-title"><span class="title">Study Analysis</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/stella/study/express.html" class="nav-link">
  Express
</a></li><li class="dropdown-item"><!----> <a href="/stella/study/koa.html" class="nav-link">
  Koa
</a></li><li class="dropdown-item"><!----> <a href="/stella/study/axios.html" class="nav-link">
  Axios
</a></li><li class="dropdown-item"><!----> <a href="/stella/study/vuex.html" class="nav-link">
  Vuex
</a></li><li class="dropdown-item"><!----> <a href="/stella/study/router.html" class="nav-link">
  Vue-Router
</a></li><li class="dropdown-item"><!----> <a href="/stella/study/domdiff.html" class="nav-link">
  Vue DOM-Diff
</a></li><li class="dropdown-item"><!----> <a href="/stella/study/mvvm.html" class="nav-link">
  Vue-MVVM
</a></li><li class="dropdown-item"><!----> <a href="/stella/study/ssr.html" class="nav-link">
  Vue-SSR
</a></li><li class="dropdown-item"><!----> <a href="/stella/study/cz.html" class="nav-link">
  Cz
</a></li><li class="dropdown-item"><!----> <a href="/stella/study/ws.html" class="nav-link">
  ws
</a></li><li class="dropdown-item"><!----> <a href="/stella/study/webpack.html" class="nav-link router-link-exact-active router-link-active">
  webpack
</a></li></ul></div></div><div class="nav-item"><a href="/stella/resume.html" class="nav-link">
  Resume
</a></div><div class="nav-item"><a href="https://github.com/StellaYangF/StellaYangF.github.io" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <!----> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="webpack-hand-written"><a href="#webpack-hand-written" class="header-anchor">#</a> Webpack Hand-written</h1> <h2 id="webpack-cli"><a href="#webpack-cli" class="header-anchor">#</a> webpack-cli</h2> <h3 id="个人理解"><a href="#个人理解" class="header-anchor">#</a> 个人理解</h3> <p>webpack-cli 既可以通过 cli 命令行，也可通过脚本形式调用 webpack 进行工程编译。</p> <h3 id="流程"><a href="#流程" class="header-anchor">#</a> 流程</h3> <ul><li>引入 <strong>webpack</strong> 核心方法（webpack 本质就是一个方法）</li> <li>引入 config 文件，获取 <strong>options</strong>（开发者自定义提供）</li> <li>执行 <code>webpack(options)</code>，返回 <strong>compiler</strong> 编译器，就是 Compiler 的类实例</li> <li>执行 <code>compiler.run(callback)</code>，传入接收 <strong>err</strong>, <strong>stats</strong> 两个参数</li> <li>callback 内部打印出编译成功后的 stats 信息，可选。</li></ul> <h3 id="实现"><a href="#实现" class="header-anchor">#</a> 实现</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> webpack <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'webpack'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> options <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./webpack.config'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> compiler <span class="token operator">=</span> <span class="token function">webpack</span><span class="token punctuation">(</span>options<span class="token punctuation">)</span><span class="token punctuation">;</span>
compiler<span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> stats</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> json <span class="token operator">=</span> stats<span class="token punctuation">.</span><span class="token function">toJson</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        entrypoints<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        chunks<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        modules<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 数组模式</span>
        _modules<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 对象方式</span>
        assets<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>json<span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h2 id="webpack"><a href="#webpack" class="header-anchor">#</a> webpack</h2> <h3 id="个人理解-2"><a href="#个人理解-2" class="header-anchor">#</a> 个人理解</h3> <p>webpack 本质是一个函数，函数签名为，接收一个 options 参数，这个参数是开发者提供的，用于自定义自己的编译构建流程；返回值是一个 <strong>Compiler</strong> 类实例，上面挂在多个编译构建流会用到的 <strong>hooks</strong>，继承自 <strong>Tapable</strong></p> <h3 id="大概流程"><a href="#大概流程" class="header-anchor">#</a> 大概流程</h3> <ul><li>合并配置文件，webpack 中存在三种方式定义的 options，分别是：
<ul><li>开发者定义的 webpack.config.js</li> <li>cli 命令行传入的参数</li> <li>webpack 内部定义的默认配置</li></ul></li> <li>初始化配置中的 context 上下文，就是当前执行的根目录（是一个绝对路径）</li> <li><strong>NodeEnvironmentPlugin</strong> Node 环境插件，准备 apply 实例方法，接受 compiler ，为 compiler 增加 <strong>inputFileSystem</strong> 和 <strong>outputFileSystem</strong> 的读写操作功能（就是 fs-File-System）
<ul><li>fs 是写入硬盘中的</li> <li><strong>热更新</strong>，<strong>webpack-dev-server</strong> 用到的是 memory-fs，读写操作在内存中</li></ul></li> <li>挂载配置文件提供的 plugins，迭代调用 <strong>plugin.apply</strong> 传入 compiler</li> <li>返回 compiler 实例</li></ul> <h2 id="webpack-plugin"><a href="#webpack-plugin" class="header-anchor">#</a> webpack plugin</h2> <h3 id="个人理解-3"><a href="#个人理解-3" class="header-anchor">#</a> 个人理解</h3> <p>webpack 内部提供了多个插件，用于增强 compiler 的功能，同时允许开发者构建自己的插件，集成 webpack ，都遵循下面的特性：</p> <ul><li>每个插件都是一个 class 类</li> <li>提供 <code>apply</code> 实例方法，接收 compiler，在这个方法内部为 compiler 增强功能</li></ul> <p>下面会一一谈到 webpack 内置的插件。</p> <h3 id="nodeenvironmentplugin"><a href="#nodeenvironmentplugin" class="header-anchor">#</a> NodeEnvironmentPlugin</h3> <p>NodeEnvironmentPlugin 为 compiler 增加读写功能</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> fs <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'fs'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">NodeEnvironmentPlugin</span> <span class="token punctuation">{</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">options</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>options <span class="token operator">=</span> options <span class="token operator">||</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token function">apply</span><span class="token punctuation">(</span><span class="token parameter">compiler</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        compiler<span class="token punctuation">.</span>inputFileSystem <span class="token operator">=</span> fs<span class="token punctuation">;</span>
        compiler<span class="token punctuation">.</span>outputFileSystem <span class="token operator">=</span> fs<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> NodeEnvironmentPlugin<span class="token punctuation">;</span>
</code></pre></div><h3 id="webpackoptionsapply"><a href="#webpackoptionsapply" class="header-anchor">#</a> WebpackOptionsApply</h3> <p>提供 process 方法，内部统一挂载 webpack 内置的插件</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> EntryOptionPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./EntryOptionPlugin'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">WebpackOptionsApply</span> <span class="token punctuation">{</span>
    <span class="token function">process</span><span class="token punctuation">(</span><span class="token parameter">options<span class="token punctuation">,</span> compiler</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">new</span> <span class="token class-name">EntryOptionPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>compiler<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> WebpackOptionsApply<span class="token punctuation">;</span>
</code></pre></div><h3 id="entryoptionplugin"><a href="#entryoptionplugin" class="header-anchor">#</a> EntryOptionPlugin</h3> <p>内部监听了 entryOptions 钩子函数，执行回调内部，新建 <strong>SingleEntryPlugin</strong> 实
例</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> SingleEntryPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;./SingleEntryPlugin&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">EntryOptionPlugin</span><span class="token punctuation">{</span>
    <span class="token function">apply</span><span class="token punctuation">(</span><span class="token parameter">compiler</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 当有一个 entryOption 事件钩子触发时，执行回调，传入 context 和 entry</span>
        compiler<span class="token punctuation">.</span>hooks<span class="token punctuation">.</span>entryOptions<span class="token punctuation">.</span><span class="token function">tap</span><span class="token punctuation">(</span><span class="token string">'EntryOptionPlugin'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">context<span class="token punctuation">,</span> entry</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token comment">// 创建 SingleEntryPlugin</span>
            <span class="token keyword">new</span> <span class="token class-name">SingleEntryPlugin</span><span class="token punctuation">(</span>context<span class="token punctuation">,</span> entry<span class="token punctuation">,</span> <span class="token string">'main'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>compiler<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> EntryOptionPlugin<span class="token punctuation">;</span>
</code></pre></div><h3 id="singleentryplugin"><a href="#singleentryplugin" class="header-anchor">#</a> SingleEntryPlugin</h3> <p>内部监听 make 事件，这个插件比较重要，compiler.compiler 启动编译时，会触发这个 make 监听的钩子函数</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">SingleEntryPlugin</span> <span class="token punctuation">{</span>
    <span class="token comment">/**
     * 
     * @param {*} context 根目录 绝对路径
     * @param {*} entry 入口文件 index.js
     * @param {*} name 入口 别名 main
     */</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">context<span class="token punctuation">,</span> entry<span class="token punctuation">,</span> name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>context <span class="token operator">=</span> context<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>entry <span class="token operator">=</span> entry<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token function">apply</span><span class="token punctuation">(</span><span class="token parameter">compiler</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 监听 make 事件</span>
        compiler<span class="token punctuation">.</span>hooks<span class="token punctuation">.</span>make<span class="token punctuation">.</span><span class="token function">tapAsync</span><span class="token punctuation">(</span><span class="token string">'SingleEntryPlugin'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">compilation<span class="token punctuation">,</span> callback</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>callback<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">// callback 表示一个钩子函数完成了（内部计数器），等所有注册的钩子函数结束后，才会执行</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'开始编译入口'</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>entry<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">// 开始真正编译入口 entry</span>
            <span class="token comment">// compilation.addEntry(this.context, this.entry, this.name, callback);</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> SingleEntryPlugin<span class="token punctuation">;</span>
</code></pre></div><p>下面是 compiler.compile 内部触发的部分代码</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">this</span><span class="token punctuation">.</span>hooks<span class="token punctuation">.</span><span class="token function">compile</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>params<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> compilation <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">newCompilation</span><span class="token punctuation">(</span>params<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// make 让所有的入口同时开始编译，全部编译后才执行 omCompiled</span>
<span class="token comment">// 第二参数是一个函数，被称为最终的回调</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>hooks<span class="token punctuation">.</span>make<span class="token punctuation">.</span><span class="token function">callAsync</span><span class="token punctuation">(</span>compilation<span class="token punctuation">,</span> <span class="token parameter">err</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> <span class="token comment">// make 成功后的回调</span>
    <span class="token comment">// 凡是注册了 make 钩子的函数全部成功了，才会触发这个回调 callback</span>
    <span class="token comment">// 类似：Promise.resolve().then(err =&gt; {})</span>
    <span class="token function">onCompiled</span><span class="token punctuation">(</span>err<span class="token punctuation">,</span> compilation<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/stella/assets/js/app.a3e7a2e9.js" defer></script><script src="/stella/assets/js/2.d5a5158a.js" defer></script><script src="/stella/assets/js/23.89eed9ba.js" defer></script>
  </body>
</html>
